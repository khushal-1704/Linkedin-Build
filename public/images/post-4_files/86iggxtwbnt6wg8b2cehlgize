define("@ember/test-waiters/build-waiter",["exports","@babel/runtime/helpers/esm/defineProperty","@ember/test-waiters/token","@ember/test-waiters/waiter-manager"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e._resetWaiterNames=function(){r=new Set}
e.default=function(e){0
return new o(e)
return new a(e)}
let r
function s(){return new i.default}class a{constructor(e,i){(0,t.default)(this,"name",void 0);(0,t.default)(this,"nextToken",void 0);(0,t.default)(this,"isRegistered",!1);(0,t.default)(this,"items",new Map);(0,t.default)(this,"completedOperationsForTokens",new WeakMap);(0,t.default)(this,"completedOperationsForPrimitives",new Map)
this.name=e
this.nextToken=i||s}beginAsync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.nextToken(),t=arguments.length>1?arguments[1]:void 0
this._register()
if(this.items.has(e))throw new Error(`beginAsync called for ${e} but it is already pending.`)
let i=new Error
this.items.set(e,{get stack(){return i.stack},label:t})
return e}endAsync(e){if(!this.items.has(e)&&!this._getCompletedOperations(e).has(e))throw new Error("endAsync called with no preceding beginAsync call.")
this.items.delete(e)
this._getCompletedOperations(e).set(e,!0)}waitUntil(){return 0===this.items.size}debugInfo(){let e=[]
this.items.forEach((t=>{e.push(t)}))
return e}reset(){this.items.clear()}_register(){if(!this.isRegistered){(0,n.register)(this)
this.isRegistered=!0}}_getCompletedOperations(e){let t=typeof e
return!("function"===t)&&!(null!==e&&"object"===t)?this.completedOperationsForPrimitives:this.completedOperationsForTokens}}class o{constructor(e){(0,t.default)(this,"name",void 0)
this.name=e}beginAsync(){return this}endAsync(){}waitUntil(){return!0}debugInfo(){return[]}reset(){}}}))
define("@ember/test-waiters/index",["exports","@ember/test-waiters/waiter-manager","@ember/test-waiters/build-waiter","@ember/test-waiters/wait-for-promise","@ember/test-waiters/wait-for"],(function(e,t,i,n,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"register",{enumerable:!0,get:function(){return t.register}})
Object.defineProperty(e,"unregister",{enumerable:!0,get:function(){return t.unregister}})
Object.defineProperty(e,"getWaiters",{enumerable:!0,get:function(){return t.getWaiters}})
Object.defineProperty(e,"_reset",{enumerable:!0,get:function(){return t._reset}})
Object.defineProperty(e,"getPendingWaiterState",{enumerable:!0,get:function(){return t.getPendingWaiterState}})
Object.defineProperty(e,"hasPendingWaiters",{enumerable:!0,get:function(){return t.hasPendingWaiters}})
Object.defineProperty(e,"buildWaiter",{enumerable:!0,get:function(){return i.default}})
Object.defineProperty(e,"_resetWaiterNames",{enumerable:!0,get:function(){return i._resetWaiterNames}})
Object.defineProperty(e,"waitForPromise",{enumerable:!0,get:function(){return n.default}})
Object.defineProperty(e,"waitFor",{enumerable:!0,get:function(){return r.default}})}))
define("@ember/test-waiters/token",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{}}))
define("@ember/test-waiters/types/index",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})}))
define("@ember/test-waiters/wait-for-promise",["exports","@ember/test-waiters/build-waiter"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){let i=e
0
return i};(0,t.default)("@ember/test-waiters:promise-waiter")}))
define("@ember/test-waiters/wait-for",["exports","@ember/test-waiters/wait-for-promise","@ember/test-waiters/build-waiter"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i]
let r=t.length<3
if(r){let[e,i]=t
return n(e,i)}{let[,,e,i]=t
return e}}
function n(e,t){return e}(0,i.default)("@ember/test-waiters:generator-waiter")}))
define("@ember/test-waiters/waiter-manager",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.register=function(e){t.set(e.name,e)}
e.unregister=function(e){t.delete(e.name)}
e.getWaiters=i
e._reset=function(){for(let e of i())e.isRegistered=!1
t.clear()}
e.getPendingWaiterState=n
e.hasPendingWaiters=r
const t=new Map
Ember.Test&&Ember.Test.registerWaiter((()=>!r()))
function i(){let e=[]
t.forEach((t=>{e.push(t)}))
return e}function n(){let e={pending:0,waiters:{}}
t.forEach((t=>{if(!t.waitUntil()){e.pending++
let i=t.debugInfo()
e.waiters[t.name]=i||!0}}))
return e}function r(){return n().pending>0}}))
define("ember-batcher/batcher",["exports","ember-test-waiters"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.readDOM=function(e){let t=i.beginAsync()
r.unshift([t,e])
u()}
e.mutateDOM=function(e){let t=n.beginAsync()
s.unshift([t,e])
u()}
e.visibilityChange=void 0
const i=(0,t.buildWaiter)("ember-batcher: readDOM"),n=(0,t.buildWaiter)("ember-batcher: mutateDOM"),r=[],s=[]
let a=()=>{}
e.visibilityChange=a
let o=!1,l=!1
const c="object"==typeof window&&"function"==typeof window.requestAnimationFrame?e=>{let t=()=>{if(!l){l=!0
e()}}
setTimeout(t,20)
return requestAnimationFrame(t)}:e=>setTimeout(e)
0
function u(){if(!o){o=!0
c((()=>{let e,t
for(e=0,t=r.length;e<t;e++){let[e,t]=r.pop()
t()
i.endAsync(e)}for(e=0,t=s.length;e<t;e++){let[e,t]=s.pop()
t()
n.endAsync(e)}o=!1
l=!1;(s.length>0||r.length>0)&&u()}))}}}))
define("ember-batcher/index",["exports","ember-batcher/batcher"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"readDOM",{enumerable:!0,get:function(){return t.readDOM}})
Object.defineProperty(e,"mutateDOM",{enumerable:!0,get:function(){return t.mutateDOM}})}))
define("ember-named-blocks-polyfill/helpers/-has-block-params",["exports","ember-named-blocks-polyfill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=Ember.Helper.helper((function(e,t){let[i,n,r]=e
return i?n in i&&i[n]>0:r}))
e.default=i}))
define("ember-named-blocks-polyfill/helpers/-has-block",["exports","ember-named-blocks-polyfill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=Ember.Helper.helper((function(e,t){let[i,n,r]=e
return i?n in i:r}))
e.default=i}))
define("ember-named-blocks-polyfill/helpers/-is-named-block-invocation",["exports","ember-named-blocks-polyfill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=Ember.Helper.helper((function(e,i){return(0,t.isNamedBlockInvocation)(e[0],e[1])}))
e.default=i}))
define("ember-named-blocks-polyfill/helpers/-named-block-invocation",["exports","ember-named-blocks-polyfill"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=Ember.Helper.helper((function(e,i){return(0,t.namedBlockInvocation)(e[0])}))
e.default=i}))
define("ember-named-blocks-polyfill/index",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.namedBlockInvocation=function(e){let i=Object.create(null)
Object.defineProperty(i,"toString",{configurable:!0,enumerable:!1,writable:!1,value:()=>`{{yield to=${JSON.stringify(e)}}}`})
t.set(i,e)
return i}
e.isNamedBlockInvocation=function(e,i){return"object"==typeof e&&null!==e&&t.has(e)?i===t.get(e):"default"===i}
e.isBlocksInfo=function(e){return"object"==typeof e&&null!==e&&null===Object.getPrototypeOf(e)&&Object.values(e).every((e=>"number"==typeof e))}
const t=new WeakMap}))
define("ember-test-waiters/index",["exports","@ember/test-waiters"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.keys(t).forEach((function(i){"default"!==i&&"__esModule"!==i&&(i in e&&e[i]===t[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[i]}}))}))}))
define("heathrow/components/next-best-action-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,i,n,r,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,c,u,d,p,m
const h=Ember.HTMLBars.template({id:"0T16gsuy",block:'{"symbols":["modal","openMessaging"],"statements":[[2,"\\n"],[8,"artdeco-modal@artdeco-modal",[[4,[38,2],null,[["pageKey","routeName","currentRoute"],["flagship3_heathrow_next_best_action_modal",[30,[36,1],[[30,[36,0],["outletState"],null],"render.name"],null],[30,[36,1],[[30,[36,0],["outletState"],null],"render"],null]]]],[4,[38,3],[[32,0,["onDidInsert"]]],null]],[["@isOpen","@setFocusTo","@size","@dismissModal"],[[32,0,["heathrow","isNextBestActionModalOpen"]],".artdeco-modal__dismiss","medium",[32,0,["onDismiss"]]]],[["default"],[{"statements":[[2,"\\n  "],[8,[32,1,["artdeco-modal-header"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n    "],[10,"h2"],[14,1,"heathrow-modal-header"],[12],[2,"\\n      "],[8,"text-view-model@text-view-model-v2",[],[["@tvm"],[[32,0,["heathrow","nextBestActionModalData","title"]]]],null],[2,"\\n    "],[13],[2,"\\n  "]],"parameters":[]}]]],[2,"\\n\\n  "],[8,[32,1,["artdeco-modal-content"]],[],[["@classNames"],["display-flex align-items-center p5"]],[["default"],[{"statements":[[2,"\\n    "],[8,"ember-cli-pemberly-tracking@shared/external-link",[[4,[38,4],["invitee_photo_click"],null]],[["@href"],[[32,0,["heathrow","nextBestActionModalData","entityImage","actionTarget"]]]],[["default"],[{"statements":[[2,"\\n      "],[8,"image-view-model@image-view-model",[],[["@images","@imgWidth","@imgHeight","@entitySize","@imgClasses"],[[32,0,["heathrow","nextBestActionModalData","entityImage"]],72,72,5,"EntityPhoto-circle-5"]],null],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"span"],[14,0,"text-body-medium ml4"],[12],[2,"\\n      "],[8,"text-view-model@text-view-model-v2",[],[["@tvm"],[[32,0,["heathrow","nextBestActionModalData","subtitle"]]]],null],[2,"\\n    "],[13],[2,"\\n  "]],"parameters":[]}]]],[2,"\\n\\n  "],[8,[32,1,["artdeco-modal-footer"]],[],[["@classNames"],["p4"]],[["default"],[{"statements":[[2,"\\n    "],[10,"section"],[14,0,"t-14 t-black--light t-normal flex-row-reverse display-flex"],[12],[2,"\\n      "],[8,"artdeco-button@artdeco-button",[[24,0,"ml2"],[16,"aria-label",[30,[36,5],["i18n_continue_btn_a11y_text","heathrow/components/next-best-action-modal"],null]],[4,[38,4],["continue_btn_click"],null]],[["@type","@text","@click"],["primary",[30,[36,5],["i18n_continue_btn","heathrow/components/next-best-action-modal"],null],[32,0,["onDismiss"]]]],null],[2,"\\n      "],[8,"message-button@entry-point",[],[["@recipientUrns","@onMessagingOpened"],[[32,0,["inviteeProfile","entityUrn"]],[32,0,["onMessagingOpened"]]]],[["default"],[{"statements":[[2,"\\n        "],[8,"artdeco-button@artdeco-button",[[16,"aria-label",[30,[36,5],["i18n_message_btn_a11y","heathrow/components/next-best-action-modal"],[["member"],[[30,[36,6],[[32,0,["inviteeProfile"]]],null]]]]],[4,[38,4],["messaging_btn_click"],null]],[["@text","@type","@click"],[[30,[36,5],["i18n_message_btn","heathrow/components/next-best-action-modal"],null],"secondary",[32,2]]],null],[2,"\\n      "]],"parameters":[2]}]]],[2,"\\n    "],[13],[2,"\\n  "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[1]}]]]],"hasEval":false,"upvars":["-get-dynamic-var","get","ember-cli-pemberly-tracking@track-render","did-insert","ember-cli-pemberly-tracking@track-interaction","t","global-helpers@name"]}',moduleName:"heathrow/components/next-best-action-modal.hbs"})
let g=(a=Ember.inject.service("heathrow@heathrow"),o=Ember.inject.service("client-sensor-web@client-sensor"),l=Ember._action,c=Ember._action,u=Ember._action,d=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"heathrow",p,this);(0,t.default)(this,"clientSensor",m,this)}get inviteeProfile(){return Ember.get(this.heathrow,"nextBestActionModalData.entityImage.attributes.firstObject.miniProfile")}onDismiss(){this.clientSensor.incrementMetricCounter({groupName:"heathrow",metricName:"next-best-action-modal-dismiss"})
this.heathrow.closeNextBestActionModal()}onDidInsert(){this.clientSensor.incrementMetricCounter({groupName:"heathrow",metricName:"next-best-action-modal-impression"})}onMessagingOpened(){this.clientSensor.incrementMetricCounter({groupName:"heathrow",metricName:"next-best-action-modal-open-messaging-modal"})
this.heathrow.closeNextBestActionModal()}},p=(0,n.default)(d.prototype,"heathrow",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=(0,n.default)(d.prototype,"clientSensor",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(d.prototype,"onDismiss",[l],Object.getOwnPropertyDescriptor(d.prototype,"onDismiss"),d.prototype),(0,n.default)(d.prototype,"onDidInsert",[c],Object.getOwnPropertyDescriptor(d.prototype,"onDidInsert"),d.prototype),(0,n.default)(d.prototype,"onMessagingOpened",[u],Object.getOwnPropertyDescriptor(d.prototype,"onMessagingOpened"),d.prototype),d)
e.default=g
Ember._setComponentTemplate(h,g)}))
define("heathrow/services/heathrow",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","global-utils/utils/is-browser","ember-cli-pemberly-tracking/utils/tracking","heathrow/utils/constants"],(function(e,t,i,n,r,s,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,c,u,d,p,m,h,g,f,b,_,y,E
let R=(l=Ember.inject.service("store"),c=Ember.inject.service("tracking"),u=Ember.inject.service("lego@tracking"),d=Ember.inject.service("global-services@local-storage"),p=Ember._tracked,m=Ember._tracked,h=class extends Ember.Service{constructor(){super(...arguments);(0,t.default)(this,"store",g,this);(0,t.default)(this,"tracking",f,this);(0,t.default)(this,"legoTracking",b,this);(0,t.default)(this,"localStorage",_,this);(0,t.default)(this,"isNextBestActionModalOpen",y,this);(0,t.default)(this,"nextBestActionModalData",E,this)}_hasSeenPhoto(){const{localStorage:e}=this
if(e&&e.cacheAvailable){const t=(new Date).getTime(),i=e.getKeyedObject("heathrowPhotoTimestamp",0),n=i&&i.lastSeen
if(n)return Math.abs(t-n)<864e5}return!1}_normalizeEntityName(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(/[/.]/).pop().replace("-","").toLowerCase()}_getRouteServed(e,t,i){const n=this._normalizeEntityName(t),r={abiroute:function(e){return"SKIP_SPLASH"===e?o.HEATHROW_ROUTES.ABI_RESULTS_LANDING:o.HEATHROW_ROUTES.ABI_SPLASH},feedroute:o.HEATHROW_ROUTES.FEED,pymkroute:o.HEATHROW_ROUTES.PYMK,profilephotouploadroute:this._hasSeenPhoto()?o.HEATHROW_ROUTES.PYMK:o.HEATHROW_ROUTES.PROFILE_PHOTO_UPLOAD,genericroute:o.HEATHROW_ROUTES.GENERIC_ROUTE,entityactivityfeedroute:o.HEATHROW_ROUTES.ENTITY_ACTIVITY_FEED,default:e.get("fallbackRoute")||o.HEATHROW_ROUTES.PYMK}
return n===o.HEATHROW_NORMAL_NAME_MAP.ABI?r[n](i):r[n]||r.default}_handleSuggestedRouteResponse(e){const t=e.get("elements.firstObject.route"),i=e.get("elements.firstObject.suggestedRoute"),n=e.get("elements.firstObject.confirmationModal"),r=t.get("suggestedRouteUrl"),s=t.get("splashOperation"),{emberEntityName:a,legoTrackingToken:l,$type:c}=Ember.getProperties(t,"emberEntityName","legoTrackingToken","$type"),u=this._getRouteServed(t,a||c,s)
this._fireSuggestedRouteActionEvent(this.trackingId,i||u)
l&&this._fireLegoImpressionEvent(l)
return u===o.HEATHROW_ROUTES.GENERIC_ROUTE?{confirmationModal:n,forwardingUrl:r,route:i}:u===o.HEATHROW_ROUTES.COLLEAGUES?{confirmationModal:n,route:u,colleaguesCompanyUrn:e.get("elements.firstObject.route.miniCompany.entityUrn")}:{confirmationModal:n,route:u}}openNextBestActionModal(){this.isNextBestActionModalOpen=!0}closeNextBestActionModal(){this.isNextBestActionModalOpen=!1}organicAbiShouldSkipImport(){if(!s.default)return Ember.RSVP.resolve(!1)
const e=o.HEATHROW_ROUTES.ORGANIC_ABI,t=o.HEATHROW_USER_ACTION_TYPES.USER_NAVIGATION,i=[o.HEATHROW_ROUTES.ABI_RESULTS_LANDING,o.HEATHROW_ROUTES.ABI_SPLASH]
return this.getSuggestedRoute(e,t,i).then((e=>{let{route:t}=e
return o.HEATHROW_ROUTES.ABI_RESULTS_LANDING===t}))}_fireSuggestedRouteRequestEvent(e,t,i){this.tracking.fireTrackingPayload("SuggestedRouteRequestEvent",{trackingId:i,origin:e,userActionType:t})}_fireSuggestedRouteActionEvent(e,t,i){this.tracking.fireTrackingPayload("SuggestedRouteActionEvent",{trackingId:e,routeServed:t,error:i})}_fireLegoImpressionEvent(e){const{legoTracking:t}=this
t.sendLegoImpression(e,t.LEGO_IMPRESSION_VISIBILITY_SHOW)}getSuggestedRoute(e,t,i,n,r){const s=(0,a.generateTrackingId)(),o={origin:e,trackingId:s,userActionType:t,q:"viewerAndAction",platform:"DESKTOP",contextInvitationId:r}
this.trackingId=s
n&&(o.actor=n)
i&&i.length>0&&Ember.assign(o,{list:[{key:"supportedRoutes",values:i}]})
this._fireSuggestedRouteRequestEvent(e,t,s)
let l="growth/suggestedRoutes"
const c=Object.keys(o)
for(let e=0;e<c.length;e++){const t=o[c[e]]
l+=`|${"object"==typeof t?JSON.stringify(t):t}`}return this.store.queryURL("growth/suggestedRoutes",{cacheKey:l,params:o,reload:!0}).then((e=>this._handleSuggestedRouteResponse(e)))}},g=(0,n.default)(h.prototype,"store",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,n.default)(h.prototype,"tracking",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,n.default)(h.prototype,"legoTracking",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,n.default)(h.prototype,"localStorage",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,n.default)(h.prototype,"isNextBestActionModalOpen",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=(0,n.default)(h.prototype,"nextBestActionModalData",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h)
e.default=R}))
define("heathrow/utils/constants",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.HEATHROW_NORMAL_NAME_MAP=e.HEATHROW_USER_ACTION_TYPES=e.HEATHROW_ROUTE_MAP_TETRIS=e.HEATHROW_ROUTE_MAP=e.HEATHROW_ROUTES=void 0
e.HEATHROW_ROUTES={ABI_SPLASH:"ABI_SPLASH",ABI_RESULTS_LANDING:"ABI_RESULTS_LANDING",ORGANIC_ABI:"ORGANIC_ABI",FEED:"FEED",PYMK:"PYMK",SPLASH:"SPLASH",PROFILE_PHOTO_UPLOAD:"PROFILE_PHOTO_UPLOAD",ENTITY_ACTIVITY_FEED:"ENTITY_ACTIVITY_FEED",GENERIC_ROUTE:"GENERIC_ROUTE",GET_THE_APP:"GET_THE_APP",FOLLOW_HUB:"FOLLOW_HUB"}
e.HEATHROW_ROUTE_MAP={ABI_SPLASH:"abi.intro",ABI_RESULTS_LANDING:"abi.results",FEED:"feed.index",PROFILE_PHOTO_UPLOAD:"mynetwork.index",ENTITY_ACTIVITY_FEED:"profile-subroutes.detail-recent-activity",PYMK:"index",GET_THE_APP:"index",FOLLOW_HUB:"feed.follow.confirmation.invite-accept"}
e.HEATHROW_ROUTE_MAP_TETRIS={ABI_SPLASH:"abi.intro",ABI_RESULTS_LANDING:"abi.results",FEED:"feed.index",PROFILE_PHOTO_UPLOAD:"mynetwork.index",ENTITY_ACTIVITY_FEED:"profile.common.recent-activity",PYMK:"index",GET_THE_APP:"index",FOLLOW_HUB:"feed.follow.confirmation.invite-accept"}
e.HEATHROW_USER_ACTION_TYPES={USER_NAVIGATION:"USER_NAVIGATION",ACCEPT_INVITATION:"ACCEPT_INVITATION",INVITATION_ACCEPTANCE_NOTIFICATION:"INVITATION_ACCEPTANCE_NOTIFICATION",CONNECT:"CONNECT",IGNORE_INVTATION:"IGNORE_INVTATION"}
e.HEATHROW_NORMAL_NAME_MAP={ABI:"abiroute",FEED:"feedroute",PYMK:"pymkroute",PROFILE_PHOTO_UPLOAD:"profilephotouploadroute"}}))
define("msg-facepile-grid/components/conversation-facepile-grid",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,i,n,r,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,c,u
const d=Ember.HTMLBars.template({id:"qtO6Ivxd",block:'{"symbols":["@conversation","@entitySize","@iconSize","&attrs"],"statements":[[6,[37,0],[[32,0,["conversationParticipants"]]],null,[["default"],[{"statements":[[2,"  "],[8,"msg-facepile-grid@facepile-grid",[[17,4]],[["@participants","@groupChat","@entitySize","@iconSize"],[[32,0,["conversationParticipants"]],[32,1,["groupChat"]],[32,2],[32,3]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["if"]}',moduleName:"msg-facepile-grid/components/conversation-facepile-grid.hbs"})
let p=(a=Ember.inject.service("formatter"),o=Ember.inject.service("authentication@authenticated-user"),l=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"formatter",c,this);(0,t.default)(this,"authenticatedUser",u,this)}get conversationParticipants(){const e=Ember.get(this,"args.conversation.participants")
if(e&&Ember.get(this,"args.conversation.groupChat")&&Ember.get(this,"args.conversation.viewerCurrentParticipant")){const t=Ember.get(this,"authenticatedUser.miniProfile")
return[...e,{miniProfile:t,picture:Ember.get(t,"picture"),ghostType:"person",fullName:this.formatter.formatName(t,"full")}]}return e}},c=(0,n.default)(l.prototype,"formatter",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,n.default)(l.prototype,"authenticatedUser",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=p
Ember._setComponentTemplate(d,p)}))
define("msg-facepile-grid/components/facepile-grid",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=Ember.HTMLBars.template({id:"A82Cj+r7",block:'{"symbols":["participant","@iconSize","@participants","@groupChat","&attrs"],"statements":[[11,"div"],[16,0,[31,["msg-facepile-grid\\n    ",[30,[36,1],[[30,[36,7],[[32,4],[30,[36,6],[[32,3,["length"]],1],null]],null],"msg-facepile-grid--group-size-2","msg-facepile-grid--no-facepile"],null],"\\n    ",[32,0,["sizeClass"]]]]],[17,5],[12],[2,"\\n"],[6,[37,1],[[30,[36,9],[[32,4],[30,[36,8],[[32,3,["length"]],1],null]],null]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"msg-facepile-grid__img msg-facepile-grid__group-chat-icon"],[12],[2,"\\n      "],[1,[30,[36,5],null,[["type","size","class"],["people-icon",[32,2],"t-black--light"]]]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,11],[[30,[36,10],[[30,[36,10],[[32,0,["participantsToPrint"]]],null]],null]],null,[["default"],[{"statements":[[2,"    "],[8,"ember-vector-images@lazy-image",[],[["@classNames","@image","@alt","@desiredWidth","@desiredHeight","@ghostType"],[[30,[36,2],["msg-facepile-grid__img msg-facepile-grid__img--",[30,[36,1],[[30,[36,0],[[32,1]],null],"company","person"],null]],null],[30,[36,3],[[32,1]],null],[30,[36,4],[[32,1]],null],100,100,[30,[36,1],[[30,[36,0],[[32,1]],null],"company","person"],null]]],null],[2,"\\n"]],"parameters":[1]}]]],[13]],"hasEval":false,"upvars":["msg-shared@is-company-profile","if","concat","msg-shared@get-member-or-company-picture","msg-shared@get-member-or-company-name","artdeco-icons-web@li-icon","global-helpers@gt","global-helpers@or","global-helpers@eq","global-helpers@and","-track-array","each"]}',moduleName:"msg-facepile-grid/components/facepile-grid.hbs"}),n={1:"msg-facepile-grid--1",2:"msg-facepile-grid--2",3:"msg-facepile-grid--3",4:"msg-facepile-grid--4"}
class r extends t.default{get sizeClass(){return n[this.args.entitySize]}get participantsToPrint(){return this.args.participants.slice(0,2)}}e.default=r
Ember._setComponentTemplate(i,r)}))
define("msg-typeahead/components/connections-typeahead",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","ember-lifeline","@glimmer/component","tracked-toolbox","global-utils/utils/is-browser","msg-shared/utils/constants","ember-batcher","urn-utils","global-helpers/helpers/load"],(function(e,t,i,n,r,s,a,o,l,c,u,d,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,h,g,f,b,_,y,E,R,v,O,T,P,w,I,A,S,C,k,x,N,M,D,H,U,L,F,j,W,z,B,G,Y,K,q,V,$,J,Q,X,Z,ee,te,ie,ne,re,se,ae,oe,le,ce,ue
const de=Ember.HTMLBars.template({id:"ASOQJl4f",block:'{"symbols":["recipient","index","openMessaging","entryPointData","recipient","@composeToNonConnection","@enableGroupMessageRequests","@includeNonConnectionResults","@openConversation","@a11yText","@isForGroupChatCreation","&attrs","@placeholder","@hasInitialFocus","@searchResultContainerClass","&default"],"statements":[[2,"\\n"],[11,"div"],[16,0,[31,["msg-connections-typeahead relative\\n    ",[30,[36,1],[[32,11],"msg-connections-typeahead-with-full-suggested-list"],null]]]],[17,12],[4,[38,15],[[32,0,["onContainerElementInsert"]]],null],[4,[38,9],["focusin",[32,0,["onContainerFocusIn"]]],null],[12],[2,"\\n"],[6,[37,1],[[32,10]],null,[["default"],[{"statements":[[2,"    "],[10,"label"],[15,"for",[31,[[32,0,["elementId"]],"-search-field"]]],[14,0,"visually-hidden"],[12],[1,[32,10]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"  "],[10,"section"],[14,0,"msg-connections-typeahead__top-fixed-section"],[12],[2,"\\n    "],[11,"div"],[24,0,"scrollable msg-connections-typeahead__added-recipients display-flex align-items-center pl2 pv1"],[4,[38,9],["click",[32,0,["setFocusToParticipantTextField"]]],null],[4,[38,15],[[30,[36,8],[[32,0],"addedRecipientsContainer"],null]],null],[12],[2,"\\n"],[6,[37,12],[[30,[36,11],[[30,[36,11],[[32,0,["recipientsWithContext"]]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[8,"artdeco-pill@artdeco-pill-dismiss",[],[["@class","@text","@a11yText","@onDismiss","@size"],["msg-connections-typeahead__added-recipient mv1 mr1",[30,[36,14],null,[["firstName","lastName","type"],[[32,5,["miniProfile","firstName"]],[32,5,["miniProfile","lastName"]],"full"]]],[30,[36,0],["i18n_a11y_remove_recipient","msg-typeahead/components/connections-typeahead"],[["recipientName"],[[30,[36,14],null,[["firstName","lastName","type"],[[32,5,["miniProfile","firstName"]],[32,5,["miniProfile","lastName"]],"full"]]]]]],[30,[36,3],[[32,0,["removeRecipientFromTypeahead"]],[32,5]],null],1]],null],[2,"\\n"]],"parameters":[5]}]]],[2,"\\n      "],[11,"input"],[16,1,[30,[36,10],[[32,0,["elementId"]],"-search-field"],null]],[16,0,[30,[36,10],["msg-connections-typeahead__search-field",[30,[36,16],[[32,0,["recipients"]]," msg-connections-typeahead__search-field--no-recipients"],null]," ml1 mv1"],null]],[16,"placeholder",[30,[36,16],[[32,0,["recipientsWithContext"]],[32,13]],null]],[24,"role","combobox"],[24,"aria-autocomplete","list"],[16,"aria-owns",[30,[36,10],[[32,0,["elementId"]],"-suggestions-menu"],null]],[24,"autocomplete","off"],[16,"aria-expanded",[30,[36,1],[[32,0,["showDropdown"]],"true","false"],null]],[16,"aria-activedescendant",[32,0,["highlightedRecipient","domId"]]],[24,4,"text"],[4,[38,15],[[30,[36,8],[[32,0],"searchFieldElement"],null]],null],[4,[38,9],["input",[32,0,["debounceFetchRecipients"]]],null],[4,[38,9],["keydown",[32,0,["onInputKeyDown"]]],null],[4,[38,9],["focusin",[30,[36,8],[[32,0],"isFocused",true],null]],null],[4,[38,9],["focusout",[30,[36,8],[[32,0],"isFocused",false],null]],null],[4,[38,17],null,[["when"],[[30,[36,7],[[32,14],false],null]]]],[12],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["displayPlusIcon"]]],null,[["default"],[{"statements":[[2,"        "],[8,"artdeco-button@artdeco-button",[[4,[38,9],["click",[32,0,["showSuggestions"]]],null],[4,[38,13],[[30,[36,1],[[30,[36,4],null,null],"overlay_plus_icon","plus_icon"],null]],null]],[["@class","@color","@size","@icon","@circle","@text"],["msg-connections-typeahead__plus-icon mv2 ml2","muted",1,"plus-icon",true,[30,[36,0],["i18n_show_recipient_suggestions","msg-typeahead/components/connections-typeahead"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n      "],[10,"div"],[14,0,"msg-connections-typeahead__hidden-field"],[12],[13],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"],[2,"  "],[10,"div"],[15,0,[31,[[30,[36,1],[[32,0,["showDropdown"]],"msg-connections-typeahead__opacity-transition-in","msg-connections-typeahead__opacity-transition-out"],null],"\\n      scrollable msg-connections-typeahead__search-results\\n      ",[30,[36,1],[[32,11],"msg-connections-typeahead__inplace-search-results"],null],"\\n      ",[32,15]]]],[12],[2,"\\n    "],[10,"div"],[15,0,[30,[36,1],[[32,0,["showDropdown"]],"msg-connections-typeahead__margin-transition-in","msg-connections-typeahead__margin-transition-out"],null]],[12],[2,"\\n"],[6,[37,1],[[32,0,["showLoader"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"msg-connection-typeahead__loader msg-connections-typeahead__animate-fade-in"],[12],[2,"\\n          "],[8,"artdeco-loader@artdeco-loader",[[24,0,"mhA"]],[["@size"],["small"]],null],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["showRecipientsList"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["showSuggestedLabel"]]],null,[["default"],[{"statements":[[2,"          "],[10,"div"],[15,0,[31,[[30,[36,1],[[32,0,["loadingAnimationTransition"]],"msg-connections-typeahead__animate-fade-out","msg-connections-typeahead__animate-fade-in"],null],"\\n              t-bold t-14 t-black--light pb2 pl3 pt2"]]],[12],[2,"\\n            "],[1,[30,[36,0],["i18n_suggested","msg-typeahead/components/connections-typeahead"],null]],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[10,"ul"],[15,0,[31,["list-style-none\\n            ",[30,[36,1],[[32,0,["loadingAnimationTransition"]],"msg-connections-typeahead__animate-fade-out","msg-connections-typeahead__animate-fade-in"],null]]]],[14,"role","listbox"],[15,1,[30,[36,10],[[32,0,["elementId"]],"-suggestions-menu"],null]],[12],[2,"\\n"],[6,[37,12],[[30,[36,11],[[30,[36,11],[[32,0,["possibleRecipients"]]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[11,"li"],[24,"role","presentation"],[4,[38,9],["mouseover",[30,[36,8],[[32,0],"highlightedRecipient",[32,1]],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,1,["recipientType"]],[32,0,["CONVERSATION"]]],null]],null,[["default","else"],[{"statements":[[2,"                "],[8,"msg-typeahead@conversation-result",[],[["@highlightedRecipient","@recipient","@openConversation","@onMouseDown","@openConversationControlName","@impressionEvent"],[[32,0,["highlightedRecipient"]],[32,1],[32,9],[32,0,["preventEventChain"]],[30,[36,1],[[32,0,["isSuggestedList"]],[30,[36,1],[[30,[36,4],null,null],"overlay_quick_add_group","quick_add_group"],null],[30,[36,1],[[30,[36,4],null,null],"overlay_search_add_group","search_add_group"],null]],null],[30,[36,3],[[32,0,["createConversationResultImpressionPayload"]],[32,1],[32,2]],null]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,8]],null,[["default","else"],[{"statements":[[6,[37,1],[[30,[36,7],[[30,[36,7],[[30,[36,5],[[32,1,["recipientType"]],[32,0,["CONNECTIONS"]]],null],[30,[36,6],[[32,7],[30,[36,5],[[32,1,["type"]],[32,0,["COWORKERS"]]],null]],null]],null],[32,0,["isSuggestedList"]]],null]],null,[["default","else"],[{"statements":[[2,"                    "],[8,"msg-typeahead@person-result",[],[["@highlightedRecipient","@recipient","@isChecked","@onClick","@onMouseDown","@interactionControlName","@personReultImpressionEvent"],[[32,0,["highlightedRecipient"]],[32,1],[30,[36,2],[[32,0,["selectedRecipientUrns"]],[32,1,["miniProfile","entityUrn"]]],null],[30,[36,3],[[32,0,["handlePersonTypeaheadResultClick"]],[32,1]],null],[32,0,["preventEventChain"]],[30,[36,1],[[30,[36,5],[[32,1,["type"]],[32,0,["COWORKERS"]]],null],[30,[36,1],[[30,[36,4],null,null],"overlay_search_add_coworker","search_add_coworker"],null],[30,[36,1],[[32,0,["isSuggestedList"]],[30,[36,1],[[30,[36,4],null,null],"overlay_quick_add","quick_add"],null],[30,[36,1],[[30,[36,4],null,null],"overlay_search_add","search_add"],null]],null]],null],[30,[36,3],[[32,0,["createPersonResultImpressionEvent"]],[32,1],[32,2]],null]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[8,"message-button@entry-point",[],[["@interstitialUpsellOrigin","@recipientUrns","@contextEntityUrn","@screenContext"],["premium_inmail_message_compose_typeahead_upsell_modal",[32,1,["entityUrn"]],[32,1,["contextEntityUrn"]],"MESSAGING"]],[["default"],[{"statements":[[2,"\\n                      "],[8,"msg-typeahead@person-result",[],[["@highlightedRecipient","@recipient","@isChecked","@onClick","@onMouseDown","@interactionControlName","@personReultImpressionEvent"],[[32,0,["highlightedRecipient"]],[32,1],[30,[36,2],[[32,0,["selectedRecipientUrns"]],[32,1,["miniProfile","entityUrn"]]],null],[30,[36,3],[[32,6],[32,3],[32,4]],null],[32,0,["preventEventChain"]],[30,[36,1],[[30,[36,5],[[32,1,["type"]],[32,0,["COWORKERS"]]],null],[30,[36,1],[[30,[36,4],null,null],"overlay_search_add_coworker","search_add_coworker"],null],[30,[36,1],[[30,[36,4],null,null],"overlay_search_add_nonconnection","search_add_nonconnection"],null]],null],[30,[36,3],[[32,0,["createPersonResultImpressionEvent"]],[32,1],[32,2]],null]]],null],[2,"\\n                    "]],"parameters":[3,4]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                  "],[8,"msg-typeahead@person-result",[],[["@highlightedRecipient","@recipient","@isChecked","@onClick","@onMouseDown","@interactionControlName","@personReultImpressionEvent"],[[32,0,["highlightedRecipient"]],[32,1],[30,[36,2],[[32,0,["selectedRecipientUrns"]],[32,1,["miniProfile","entityUrn"]]],null],[30,[36,3],[[32,0,["handlePersonTypeaheadResultClick"]],[32,1]],null],[32,0,["preventEventChain"]],[30,[36,1],[[32,0,["isSuggestedList"]],[30,[36,1],[[30,[36,4],null,null],"overlay_quick_add","quick_add"],null],[30,[36,1],[[30,[36,4],null,null],"overlay_search_add","search_add"],null]],null],[30,[36,3],[[32,0,["createPersonResultImpressionEvent"]],[32,1],[32,2]],null]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[1,2]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["noResults"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"msg-connections-typeahead__no-result p2 display-flex align-items-center"],[12],[2,"\\n          "],[8,"artdeco-inline-feedback@artdeco-inline-feedback",[],[["@message"],[[30,[36,1],[[32,0,["onlyConnectionResults"]],[30,[36,0],["i18n_no_connection_results","msg-typeahead/components/connections-typeahead"],null],[30,[36,0],["i18n_no_results","msg-typeahead/components/connections-typeahead"],null]],null]]],null],[2,"\\n        "],[13],[2,"\\n      "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n  "],[13],[2,"\\n  "],[18,16,[[30,[36,18],null,[["addRecipient","commitAddedRecipients"],[[32,0,["addRecipientMiniProfile"]],[32,0,["commitAddedRecipients"]]]]]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["t","if","global-helpers@includes","fn","msg-shared@is-in-overlay","global-helpers@eq","global-helpers@and","global-helpers@or","ember-set-helper@set","on","concat","-track-array","each","ember-cli-pemberly-tracking@track-interaction","ember-cli-pemberly-i18n@format-name","did-insert","unless","global-modifiers@focus","hash"]}',moduleName:"msg-typeahead/components/connections-typeahead.hbs"}),{KEYCODES:pe,MESSAGE_TYPEAHEAD_SEARCH_TYPES:{CONNECTIONS:me,COWORKERS:he,GROUP_THREADS:ge,PEOPLE:fe},MESSAGE_TYPEAHEAD_RESULT_TYPES:{CONVERSATION:be}}=c.default
let _e=(m=Ember.inject.service("global-services@a11y-notification"),h=Ember.inject.service("i18n"),g=Ember.inject.service("lix"),f=Ember.inject.service("msg-data@data-manager"),b=Ember.inject.service("store"),_=Ember.inject.service("tracking"),y=Ember._tracked,E=Ember._tracked,R=Ember._tracked,v=Ember._tracked,O=Ember._tracked,T=Ember._tracked,P=Ember._tracked,w=Ember._tracked,I=Ember._tracked,A=Ember._tracked,S=Ember._tracked,C=(0,o.localCopy)("args.prefilledRecipients",[]),k=Ember._tracked,x=Ember._action,N=Ember._action,M=Ember._action,D=Ember._action,H=Ember._action,U=Ember._action,L=Ember._action,F=Ember._action,j=Ember._action,W=Ember._action,z=Ember._action,B=Ember._action,G=Ember._action,Y=class extends a.default{get searchResultsSelector(){return this.args.withSuggestedList&&this.args.isForGroupChatCreation?".msg-connections-typeahead__inplace-search-results":".msg-connections-typeahead__search-results"}get displayPlusIcon(){return this.args.recipientSuggestionEnabled&&0===this.searchTerm.length&&!(this.args.isForGroupChatCreation||this.showDropdown)&&this.recipients.length>0}get onlyConnectionResults(){return this.recipients.length||!(this.args.includeGroupConversationResults||this.args.includeNonConnectionResults)}get selectedRecipientUrns(){return this.recipients.mapBy("entityUrn")}get recipients(){return this.recipientsWithContext.mapBy("miniProfile")}get showDropdown(){var e
return this.isFocused&&this.searchTerm||!this.searchTerm&&this.args.withSuggestedList&&(null===(e=this.possibleRecipients)||void 0===e?void 0:e.length)>0||this.loadingAnimationTransition||this.showDropdownManualOverride}get showRecipientsList(){return!!this.activeFetch&&(this.possibleRecipients&&!this.activeFetch.isLoading)}get showLoader(){var e
return this.loadingAnimationTransition&&!this.possibleRecipients||this.possibleRecipients&&(null===(e=this.activeFetch)||void 0===e?void 0:e.isLoading)}constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",K,this);(0,t.default)(this,"i18n",q,this);(0,t.default)(this,"lix",V,this);(0,t.default)(this,"msgDataManager",$,this);(0,t.default)(this,"store",J,this);(0,t.default)(this,"tracking",Q,this);(0,i.default)(this,"elementId",Ember.guidFor(this));(0,t.default)(this,"activeFetch",X,this);(0,t.default)(this,"highlightedRecipient",Z,this);(0,t.default)(this,"possibleRecipients",ee,this);(0,t.default)(this,"isSuggestedList",te,this);(0,t.default)(this,"showSuggestedLabel",ie,this);(0,t.default)(this,"searchTerm",ne,this);(0,t.default)(this,"isInOverlay",re,this);(0,t.default)(this,"isFocused",se,this);(0,t.default)(this,"loadingAnimationTransition",ae,this);(0,t.default)(this,"noResults",oe,this);(0,t.default)(this,"showDropdownManualOverride",le,this);(0,t.default)(this,"externallyPrefilledRecipients",ce,this);(0,t.default)(this,"recipientsWithContext",ue,this);(0,i.default)(this,"searchFieldClass","msg-connections-typeahead__search-field");(0,i.default)(this,"CONVERSATION",be);(0,i.default)(this,"CONNECTIONS",me);(0,i.default)(this,"COWORKERS",he)
this.args.withSuggestedList&&this._fetchSuggestedRecipients(this.args.includeGroupConversationResults)}willDestroy(){(0,s.runDisposables)(this)}onContainerFocusIn(e){if(this.isDestroying)return
if(!this.possibleRecipients)return
const t=e.target&&e.target.id,i=this.possibleRecipients.findBy("domId",t)
i&&this._setHighlightedRecipient(i)}onContainerElementInsert(e){this.containerElement=e
this.isInOverlay=!(null==e||!e.closest("#msg-overlay, .from-overlay"))}onInputKeyDown(e){switch(e.keyCode){case pe.UP_ARROW:this._moveHighlightedRecipient(-1)
e.preventDefault()
break
case pe.DOWN_ARROW:this._moveHighlightedRecipient(1)
e.preventDefault()
break
case pe.BACKSPACE:if(e.target.classList.contains(this.searchFieldClass)&&!e.target.value){const e=Ember.get(this,"recipientsWithContext.lastObject")
e&&this.actions.removeRecipientFromTypeahead.call(this,e)}break
case pe.ENTER:e.target===this.searchFieldElement&&this._handleEnterKey()}}_ensureHighlightedRecipientIsScrolledIntoView(){const e=this._getHighlightedRecipientElement()
if(!e)return
const t=e.offsetTop,i=t+e.offsetHeight,n=this.containerElement.querySelector(this.searchResultsSelector),r=n.offsetHeight,s=n.scrollTop
i>s+r?n.scrollTop=i-r:t<s&&(n.scrollTop=t)}_handleEnterKey(){const e=this._getHighlightedRecipientElement()
!e&&this.actionOnTypeaheadEnter&&"function"==typeof this.actionOnTypeaheadEnter?this.actionOnTypeaheadEnter():this._selectHighlightedRecipient(e)}_selectHighlightedRecipient(e){if(l.default&&e){e.click()
this.tracking.fireInteractionEvent("search_add_enterkey")}}_getHighlightedRecipientElement(){var e
const t=Ember.get(this,"highlightedRecipient.domId")
return t&&(null===(e=this.containerElement)||void 0===e?void 0:e.querySelector(`#${t}`))}_focusSearchField(){this.searchFieldElement.focus()}_moveHighlightedRecipient(e){const{possibleRecipients:t}=this
if(!t||0===t.length)return
const i=this.highlightedRecipient,n=t.indexOf(i),r=Ember.get(this,"possibleRecipients.length"),s=i?(n+e+r)%r:0
this._setHighlightedRecipient(t.objectAt(s))}_setHighlightedRecipient(e){this.highlightedRecipient=e
this._ensureHighlightedRecipientIsScrolledIntoView(e)}_sendA11yNotification(e,t){return this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation("components/msg-typeahead@connections-typeahead",e)([t]))}_fetchRecipients(e){const t=[me]
if(Ember.get(this,"recipients.length"))this.args.enableGroupMessageRequests&&t.push(he)
else{this.args.includeGroupConversationResults&&t.push(ge)
this.args.includeNonConnectionResults&&t.push(fe)
this.args.includeCoworkerResults&&t.push(he)}this.isSuggestedList=!1
this.showSuggestedLabel=!1
const i=this.msgDataManager.fetchTypeaheadResults(e,t).then((t=>{t.forEach((e=>Ember.set(e,"domId",Ember.guidFor(e))))
if(!this.isDestroying){this.loadingAnimationTransition=!1
const i=this._filterOutExistingRecipients(t)
if(i.length){this.highlightedRecipient=Ember.get(i,"firstObject")
this.possibleRecipients=i
this.isSuggestedList=!1
this.showSuggestedLabel=!1}else if(this.args.withSuggestedList&&!e){this.highlightedRecipient=Ember.get(this,"suggestedRecipients.firstObject")
this.possibleRecipients=this.suggestedRecipients
this.isSuggestedList=!0
this.showSuggestedLabel=!0}else{this.possibleRecipients=null
this.noResults=!0}this._sendA11yNotification("i18n_a11y_suggestions_hint_text",{resultsLength:Ember.get(i,"length")})}}))
this.activeFetch=(0,p.load)(i)}_filterOutExistingRecipients(e){const t=new Set(this.recipients.mapBy("entityUrn")),i=new Set(this.args.recipientsToFilterOut?this.args.recipientsToFilterOut.mapBy("entityUrn"):[])
return e.filter((e=>!t.has(Ember.get(e,"entityUrn"))&&!i.has(Ember.get(e,"entityUrn"))))}_fetchSuggestedRecipients(e,t){let i=[]
if(t){i=!this.args.isForGroupChatCreation||!this.isSuggestedList?this.recipients.mapBy("entityUrn"):[]}this.loadingAnimationTransition=!0
const n=this.msgDataManager.fetchSuggestedRecipients(e,i).then((e=>{if(!this.isDestroying){this.loadingAnimationTransition=!1
e.forEach((e=>{Ember.set(e,"domId",Ember.guidFor(e))}))
const t=this._filterOutExistingRecipients(e)
this.possibleRecipients=t
this.suggestedRecipients=t
this.isSuggestedList=!0
this.showSuggestedLabel=!0
t&&t.length>0&&this._setHighlightedRecipient(t[0])
this._sendA11yNotification("i18n_a11y_suggested_recipients_hint_text")}}))
this.activeFetch=(0,p.load)(n)
return n}addRecipientMiniProfile(e){this._addRecipient({miniProfile:e})}_addRecipient(e){const t=Ember.get(e,"contextEntityUrn")
this.recipientsWithContext.addObject({contextEntityUrn:t,miniProfile:e.miniProfile})
this._updateRecipients()
if(Ember.get(e,"suggestedRecipientProfile")){let t=this.isSuggestedList?"quick_add":"search_add"
this.isInOverlay&&(t=`overlay_${t}`)
this.tracking.fireTrackingPayload("MessagingRecommendationActionEvent",{actionCategory:"SELECT",controlUrn:t,recommendationTrackingId:Ember.get(e,"trackingId"),usecase:this.args.isForGroupChatCreation?"GROUP_COMPOSE_MEMBER_FOR_GROUP":"COMPOSE_MEMBER_FOR_GROUP_THREAD"})}this._sendA11yNotification("i18n_a11y_added_recipient",{name:e.name})
this.args.isForGroupChatCreation&&!this.isSuggestedList&&this._fetchSuggestedRecipients(!1,!0)
if(this.args.enableGroupMessageRequests&&t&&1===this.recipientsWithContext.length){var i,n
null===(i=(n=this.args).setComposeContext)||void 0===i||i.call(n,Ember.get(e,"entityUrn"),t)}if(this.args.withSuggestedList){this.isSuggestedList=!0
this.showSuggestedLabel=!0
this.possibleRecipients=this.suggestedRecipients}this.searchFieldElement.value=""
this.searchTerm=""
this._focusSearchField();(0,u.mutateDOM)((()=>{this.isDestroying||(this.addedRecipientsContainer.scrollTop=this.addedRecipientsContainer.scrollHeight)}))}_removeRecipient(e,t){this.recipientsWithContext.removeObject(e)
this._updateRecipients()
this._sendA11yNotification("i18n_a11y_removed_recipient",{name:t})
this._focusSearchField()}_updateRecipients(){var e,t
null===(e=(t=this.args).recipientsChanged)||void 0===e||e.call(t,this.recipients,this.recipientsWithContext.filterBy("contextEntityUrn").map((e=>({recipient:(0,d.extractEntityInfoFromUrn)(Ember.get(e,"miniProfile.entityUrn")).id,contextEntityUrn:e.contextEntityUrn}))))}setFocusToParticipantTextField(){this._focusSearchField()}showSuggestions(){this._focusSearchField()
this.showDropdownManualOverride=!0
this._fetchSuggestedRecipients(!1,!0)}handlePersonTypeaheadResultClick(e){const t=this.recipientsWithContext.findBy("miniProfile",e.miniProfile)
if(t)this._removeRecipient(t,e.name)
else{this.showDropdownManualOverride=!1
this._addRecipient(e)}}removeRecipientFromTypeahead(e){const t=this.recipientsWithContext.findBy("miniProfile",e.miniProfile)
this._removeRecipient(t,e.name)}debounceFetchRecipients(){const e=this.searchTerm
this.searchTerm=this.searchFieldElement.value
!e&&this.searchTerm&&this.tracking.fireInteractionEvent(this.isInOverlay?"overlay_begin_recipient_search":"begin_recipient_search")
if(!this.args.isForGroupChatCreation){if(!this.searchTerm)return
if(!e){this.possibleRecipients=null
this.activeFetch=null}}this.loadingAnimationTransition=!0
this.noResults=!1
if(Ember.testing)this._fetchRecipients(this.searchTerm)
else{Ember.run.cancel(this.debounce)
const e=Ember.testing?0:200
this.debounce=(0,s.debounceTask)(this,"_fetchRecipients",this.searchTerm,e)}}commitAddedRecipients(){this.args.onRecipientsCommit&&this.args.onRecipientsCommit().then((()=>{this.isDestroying||(this.recipientsWithContext=[])}))}preventEventChain(e){e.preventDefault()}createPersonResultImpressionEvent(e,t,i){let{duration:n,visibleTime:r}=i
return Ember.get(e,"suggestedRecipientProfile")?{name:"MessagingRecommendationImpressionEvent",body:{recommendedEntity:{duration:n,visibleTime:r,usecase:this.args.isForGroupChatCreation?"GROUP_COMPOSE_MEMBER_FOR_GROUP":"COMPOSE_MEMBER_FOR_GROUP_THREAD",recommendationTrackingId:Ember.get(e,"trackingId"),listPosition:{index:t},recommendedEntityUrn:Ember.get(e,"miniProfile.entityUrn")}}}:[]}createConversationResultImpressionPayload(e,t,i){let{duration:n,visibleTime:r}=i
return Ember.get(e,"hitInfo.targetUrn")?{name:"MessagingRecommendationImpressionEvent",topic:"MessagingRecommendationImpressionEvent",body:{recommendedEntity:{duration:n,usecase:"TYPEAHEAD_GROUP_THREAD",recommendedEntityUrn:Ember.get(e,"hitInfo.targetUrn"),listPosition:{index:t},recommendationTrackingId:Ember.get(e,"hitInfo.trackingId"),visibleTime:r}}}:[]}},K=(0,n.default)(Y.prototype,"a11yNotification",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,n.default)(Y.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,n.default)(Y.prototype,"lix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,n.default)(Y.prototype,"msgDataManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,n.default)(Y.prototype,"store",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,n.default)(Y.prototype,"tracking",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,n.default)(Y.prototype,"activeFetch",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,n.default)(Y.prototype,"highlightedRecipient",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,n.default)(Y.prototype,"possibleRecipients",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,n.default)(Y.prototype,"isSuggestedList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,n.default)(Y.prototype,"showSuggestedLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,n.default)(Y.prototype,"searchTerm",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),re=(0,n.default)(Y.prototype,"isInOverlay",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,n.default)(Y.prototype,"isFocused",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,n.default)(Y.prototype,"loadingAnimationTransition",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,n.default)(Y.prototype,"noResults",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,n.default)(Y.prototype,"showDropdownManualOverride",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=(0,n.default)(Y.prototype,"externallyPrefilledRecipients",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=(0,n.default)(Y.prototype,"recipientsWithContext",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.externallyPrefilledRecipients.map((e=>({miniProfile:e,contextEntityUrn:void 0})))}}),(0,n.default)(Y.prototype,"onContainerFocusIn",[x],Object.getOwnPropertyDescriptor(Y.prototype,"onContainerFocusIn"),Y.prototype),(0,n.default)(Y.prototype,"onContainerElementInsert",[N],Object.getOwnPropertyDescriptor(Y.prototype,"onContainerElementInsert"),Y.prototype),(0,n.default)(Y.prototype,"onInputKeyDown",[M],Object.getOwnPropertyDescriptor(Y.prototype,"onInputKeyDown"),Y.prototype),(0,n.default)(Y.prototype,"addRecipientMiniProfile",[D],Object.getOwnPropertyDescriptor(Y.prototype,"addRecipientMiniProfile"),Y.prototype),(0,n.default)(Y.prototype,"setFocusToParticipantTextField",[H],Object.getOwnPropertyDescriptor(Y.prototype,"setFocusToParticipantTextField"),Y.prototype),(0,n.default)(Y.prototype,"showSuggestions",[U],Object.getOwnPropertyDescriptor(Y.prototype,"showSuggestions"),Y.prototype),(0,n.default)(Y.prototype,"handlePersonTypeaheadResultClick",[L],Object.getOwnPropertyDescriptor(Y.prototype,"handlePersonTypeaheadResultClick"),Y.prototype),(0,n.default)(Y.prototype,"removeRecipientFromTypeahead",[F],Object.getOwnPropertyDescriptor(Y.prototype,"removeRecipientFromTypeahead"),Y.prototype),(0,n.default)(Y.prototype,"debounceFetchRecipients",[j],Object.getOwnPropertyDescriptor(Y.prototype,"debounceFetchRecipients"),Y.prototype),(0,n.default)(Y.prototype,"commitAddedRecipients",[W],Object.getOwnPropertyDescriptor(Y.prototype,"commitAddedRecipients"),Y.prototype),(0,n.default)(Y.prototype,"preventEventChain",[z],Object.getOwnPropertyDescriptor(Y.prototype,"preventEventChain"),Y.prototype),(0,n.default)(Y.prototype,"createPersonResultImpressionEvent",[B],Object.getOwnPropertyDescriptor(Y.prototype,"createPersonResultImpressionEvent"),Y.prototype),(0,n.default)(Y.prototype,"createConversationResultImpressionPayload",[G],Object.getOwnPropertyDescriptor(Y.prototype,"createConversationResultImpressionPayload"),Y.prototype),Y)
e.default=_e
Ember._setComponentTemplate(de,_e)}))
define("msg-typeahead/components/conversation-result",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,i,n,r,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,c,u,d,p,m
const h=Ember.HTMLBars.template({id:"5B37YkSS",block:'{"symbols":["@recipient","@highlightedRecipient","@openConversation","@onMouseDown","@openConversationControlName","@impressionEvent"],"statements":[[2,"\\n"],[11,"button"],[16,0,[31,["display-flex flex-row align-items-center msg-connections-typeahead__search-result\\n    ",[30,[36,1],[[30,[36,0],[[32,2],[32,1]],null],"msg-connections-typeahead__search-result--highlighted"],null]]]],[24,"tabindex","-1"],[24,"role","option"],[16,1,[32,1,["domId"]]],[16,"aria-selected",[30,[36,1],[[30,[36,0],[[32,1,["domId"]],[32,2,["domId"]]],null],"true","false"],null]],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,3],[32,1,["conversationId"]]],null]],null],[4,[38,3],["mousedown",[32,4]],null],[4,[38,4],[[32,5]],[["onInteract"],[[32,0,["openConversationRecommendationTrackingPayload"]]]]],[4,[38,7],[[32,6]],[["routeName","currentRoute"],[[30,[36,6],[[30,[36,5],["outletState"],null],"render.name"],null],[30,[36,6],[[30,[36,5],["outletState"],null],"render"],null]]]],[12],[2,"\\n  "],[8,"msg-facepile-grid@facepile-grid",[],[["@participants","@groupChat","@entitySize","@iconSize"],[[30,[36,1],[[32,1,["hitInfo"]],[32,1,["participants"]],[35,8]],null],true,3,"small"]],null],[2,"\\n  "],[10,"div"],[14,0,"msg-connections-typeahead__entity-description display-flex"],[12],[2,"\\n    "],[10,"dl"],[14,0,"display-flex flex-column truncate"],[12],[2,"\\n      "],[10,"dt"],[14,0,"t-14 t-black t-bold truncate"],[12],[2,"\\n        "],[1,[30,[36,1],[[32,1,["text"]],[32,1,["text"]],[30,[36,10],["i18n_conversation_names","msg-typeahead/components/conversation-result"],[["names"],[[30,[36,9],[[32,1,["conversation"]],true],null]]]]],null]],[2,"\\n      "],[13],[2,"\\n      "],[10,"dd"],[14,0,"t-12 t-black--light t-normal truncate"],[12],[2,"\\n        "],[1,[30,[36,1],[[32,1,["subtext"]],[32,1,["subtext"]],[30,[36,10],["i18n_group_message","msg-typeahead/components/conversation-result"],[["count"],[[30,[36,11],[[32,1,["conversation"]]],null]]]]],null]],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["global-helpers@eq","if","fn","on","ember-cli-pemberly-tracking@track-interaction","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-impression","conversationParticipantsIncludingSelf","msg-shared@participant-names-with-self","t","msg-shared@get-total-participants-count"]}',moduleName:"msg-typeahead/components/conversation-result.hbs"})
let g=(a=Ember.inject.service("tracking"),o=Ember.inject.service("formatter"),l=Ember.inject.service("authentication@authenticated-user"),c=Ember._action,u=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",d,this);(0,t.default)(this,"formatter",p,this);(0,t.default)(this,"authenticatedUser",m,this)}get conversationParticipantsIncludingSelf(){const e=Ember.get(this,"authenticatedUser.miniProfile")
return[...Ember.get(this,"args.recipient.participants"),{miniProfile:e,picture:Ember.get(e,"picture"),ghostType:"person",fullName:this.formatter.formatName(e,"full")}]}openConversationRecommendationTrackingPayload(){return Ember.get(this,"args.recipient.hitInfo")?{name:"MessagingRecommendationActionEvent",topic:"MessagingRecommendationActionEvent",body:{actionCategory:"SELECT",controlUrn:this.args.openConversationControlName,recommendationTrackingId:Ember.get(this,"args.recipient.hitInfo.trackingId"),usecase:"TYPEAHEAD_GROUP_THREAD"}}:[]}},d=(0,n.default)(u.prototype,"tracking",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,n.default)(u.prototype,"formatter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=(0,n.default)(u.prototype,"authenticatedUser",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(u.prototype,"openConversationRecommendationTrackingPayload",[c],Object.getOwnPropertyDescriptor(u.prototype,"openConversationRecommendationTrackingPayload"),u.prototype),u)
e.default=g
Ember._setComponentTemplate(h,g)}))
define("msg-typeahead/components/person-result",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"bjNibN9d",block:'{"symbols":["@recipient","@highlightedRecipient","@interactionControlName","@personReultImpressionEvent","@onClick","@onMouseDown","@isChecked"],"statements":[[11,"button"],[16,0,[31,["display-flex flex-row align-items-center msg-connections-typeahead__search-result\\n    ",[30,[36,5],[[30,[36,4],[[32,2],[32,1]],null],"msg-connections-typeahead__search-result--highlighted"],null]]]],[24,"tabindex","-1"],[24,"role","option"],[16,1,[32,1,["domId"]]],[16,"aria-selected",[30,[36,5],[[30,[36,4],[[32,1,["domId"]],[32,2,["domId"]]],null],"true","false"],null]],[24,4,"button"],[4,[38,6],[[32,3]],null],[4,[38,9],[[32,4]],[["routeName","currentRoute"],[[30,[36,8],[[30,[36,7],["outletState"],null],"render.name"],null],[30,[36,8],[[30,[36,7],["outletState"],null],"render"],null]]]],[4,[38,10],["click",[32,5]],null],[4,[38,10],["mousedown",[32,6]],null],[12],[2,"\\n\\n  "],[8,"presence@entity-with-presence",[[24,0,"msg-connections-typeahead__presence-entity"]],[["@indicatorClasses","@miniProfile","@size","@a11yText"],["msg-connections-typeahead__presence-entity-indicator",[32,1,["miniProfile"]],2,[30,[36,11],["i18n_a11y_name_for_photo_of_recipient","msg-typeahead/components/person-result"],[["recipientName"],[[30,[36,2],null,[["firstName","lastName","type"],[[32,1,["miniProfile","firstName"]],[32,1,["miniProfile","lastName"]],"full"]]]]]]]],null],[2,"\\n  "],[10,"div"],[14,0,"msg-connections-typeahead__entity-description"],[12],[2,"\\n    "],[10,"dl"],[14,0,"display-flex flex-column truncate msg-connections-typeahead__entity-description-list"],[12],[2,"\\n"],[6,[37,5],[[32,1,["hitInfo","text","attributes"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"dt"],[14,0,"t-14 t-black truncate"],[12],[2,"\\n          "],[1,[30,[36,3],[[32,1,["hitInfo","text"]]],null]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"dt"],[14,0,"t-14 t-black t-bold truncate"],[12],[2,"\\n          "],[1,[30,[36,2],null,[["firstName","lastName","type","color"],[[32,1,["miniProfile","firstName"]],[32,1,["miniProfile","lastName"]],"full",true]]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[10,"dd"],[14,0,"t-12 t-black--light t-normal truncate"],[12],[1,[32,1,["subtext"]]],[13],[2,"\\n"],[6,[37,5],[[32,1,["contextText"]]],null,[["default"],[{"statements":[[2,"        "],[10,"dd"],[14,0,"t-12 t-black--light t-normal truncate"],[12],[1,[30,[36,1],[[32,1,["contextText"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[6,[37,5],[[32,7]],null,[["default"],[{"statements":[[2,"      "],[10,"span"],[12],[1,[30,[36,0],null,[["aria-hidden","class","type","size"],["true","msg-connections-typeahead__check-icon","check-icon","large"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["artdeco-icons-web@li-icon","text-view-model@text-view-model","ember-cli-pemberly-i18n@format-name","global-helpers@attributed-text-html","global-helpers@eq","if","ember-cli-pemberly-tracking@track-interaction","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-impression","on","t"]}',moduleName:"msg-typeahead/components/person-result.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i}))

//# sourceMappingURL=engine-vendor.map